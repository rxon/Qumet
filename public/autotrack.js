(function(){var e=window.Element.prototype,h=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;function n(a,c){if(a&&1==a.nodeType&&c){if("string"==typeof c||1==c.nodeType)return a==c||p(a,c);if("length"in c)for(var d=0,b;b=c[d];d++)if(a==b||p(a,b))return!0}return!1}function p(a,c){if("string"!=typeof c)return!1;if(h)return h.call(a,c);c=a.parentNode.querySelectorAll(c);for(var d=0,b;b=c[d];d++)if(b==a)return!0;return!1}
function q(a){for(var c=[];a&&a.parentNode&&1==a.parentNode.nodeType;)a=a.parentNode,c.push(a);return c}
function r(a,c){function d(d){var b;if(g.composed&&"function"==typeof d.composedPath)for(var f=d.composedPath(),l=0,m;m=f[l];l++)1==m.nodeType&&n(m,a)&&(b=m);else a:{if((b=d.target)&&1==b.nodeType&&a)for(b=[b].concat(q(b)),f=0;l=b[f];f++)if(n(l,a)){b=l;break a}b=void 0}b&&c.call(b,d,b)}var b=document,g={composed:!0,c:!0},g=void 0===g?{}:g;b.addEventListener("submit",d,g.c);return{h:function(){b.removeEventListener("submit",d,g.c)}}}
function t(a){var c={};if(!a||1!=a.nodeType)return c;a=a.attributes;if(!a.length)return{};for(var d=0,b;b=a[d];d++)c[b.name]=b.value;return c}var u=/:(80|443)$/,v=document.createElement("a"),w={};
function x(a){a=a&&"."!=a?a:location.href;if(w[a])return w[a];v.href=a;if("."==a.charAt(0)||"/"==a.charAt(0))return x(v.href);var c="80"==v.port||"443"==v.port?"":v.port,c="0"==c?"":c,d=v.host.replace(u,"");return w[a]={hash:v.hash,host:d,hostname:v.hostname,href:v.href,origin:v.origin?v.origin:v.protocol+"//"+d,pathname:"/"==v.pathname.charAt(0)?v.pathname:"/"+v.pathname,port:c,protocol:v.protocol,search:v.search}}
function y(a,c,d,b,g,f){if("function"==typeof b){var k=d.get("buildHitTask");return{buildHitTask:function(d){d.set(a,null,!0);d.set(c,null,!0);b(d,g,f);k(d)}}}return z({},a,c)}function A(a,c){var d=t(a),b={};Object.keys(d).forEach(function(a){if(!a.indexOf(c)&&a!=c+"on"){var f=d[a];"true"==f&&(f=!0);"false"==f&&(f=!1);a=B(a.slice(c.length));b[a]=f}});return b}function C(a){function c(){d||(d=!0,a())}var d=!1;setTimeout(c,2E3);return c}
var z=Object.assign||function(a,c){for(var d=[],b=1;b<arguments.length;++b)d[b-1]=arguments[b];for(var b=0,g=d.length;b<g;b++){var f=Object(d[b]),k;for(k in f)Object.prototype.hasOwnProperty.call(f,k)&&(a[k]=f[k])}return a};function B(a){return a.replace(/[\-\_]+(\w?)/g,function(a,d){return d.toUpperCase()})}var D={j:1,l:2,m:3,s:4,f:5,u:6,v:7,w:8,A:9,o:10},E=Object.keys(D).length;
function F(a,c){var d=D.f;a.set("\x26_av","2.4.1");var b=a.get("\x26_au"),b=parseInt(b||"0",16).toString(2);if(b.length<E)for(var g=E-b.length;g;)b="0"+b,g--;d=E-d;b=b.substr(0,d)+1+b.substr(d+1);a.set("\x26_au",parseInt(b||"0",2).toString(16));window.addEventListener&&(this.a=z({formSelector:"form",shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-"},c),this.b=a,this.g=r(this.a.formSelector,this.i.bind(this)))}
F.prototype.i=function(a,c){var d={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:x(c.action).href};if(this.a.shouldTrackOutboundForm(c,x)){navigator.sendBeacon||(a.preventDefault(),d.hitCallback=C(function(){c.submit()}));var b=z({},this.a.fieldsObj,A(c,this.a.attributePrefix));this.b.send("event",y(d,b,this.b,this.a.hitFilter,c,a))}};
F.prototype.shouldTrackOutboundForm=function(a,c){a=c(a.action);return a.hostname!=location.hostname&&"http"==a.protocol.slice(0,4)};F.prototype.remove=function(){this.g.h()};
(function(a,c){var d=window.GoogleAnalyticsObject||"ga";window[d]=window[d]||function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];(window[d].q=window[d].q||[]).push(b)};window.gaDevIds=window.gaDevIds||[];0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo");window[d]("provide",a,c);window.gaplugins=window.gaplugins||{};window.gaplugins[a.charAt(0).toUpperCase()+a.slice(1)]=c})("outboundFormTracker",F);})();
//# sourceMappingURL=autotrack.js.map